<?xml version="1.0" encoding="UTF-8"?>
<templates id="point_of_sale.template" xml:space="preserve">

    <t t-name="KitchenReciept" owl="1">
        <div class="pos-receipt">
            <div class="pos-receipt-contact">
                <br/>
                <br/>
                <div style="text-align:center; font-size:10pt; padding-top: 0px;padding-bottom: 1px;">
                 <t t-esc="receipt.date.localestring"/>
                </div>
                <br/>
                <div style='text-align:center;font-weight:bold; font-size:10pt;'>
                    <t t-esc="receipt.name"/>
                </div>
                <br/>
                <div style='text-align:center;font-weight:bold; font-size:10pt;'>
                    <t t-if="receipt.table">
                        <t t-esc="receipt.table" />
                    </t> 
                </div>
                <!-- <br/>   -->

                <table style="margin-top:5pt;padding:5pt;font-size:11pt;width:100%;" class='receipt-orderlines'>
                     <colgroup>
                        <col width='80%'/>
                        <col width='20%'/>
                    </colgroup>
                    <tr t-foreach="orderlines" t-as="orderline" style="margin-top:5pt">
                        <td style="text-align:left;padding-bottom:3pt;padding-top:2pt;vertical-align:top">
                            <t t-esc="orderline.get_product().display_name"/>
                        </td>
                        <td style="padding-bottom:3pt;padding-top:2pt;vertical-align:top" class="pos-right-align">
                            <t t-esc="orderline.get_quantity_str_with_unit()"/>
                        </td>
                    </tr>
                </table> 
                <div style="text-align:center; font-size:11pt; padding-top: 0px;">
                    <t t-if="receipt.footer">
                        <br />
                        <div style='text-align:center'>
                            <t t-esc="receipt.footer" />
                        </div>
                    </t>
                </div>
            </div>
        </div>
    </t>
    
    <t t-name="ReceiptScreen" t-inherit="point_of_sale.ReceiptScreen" t-inherit-mode="extension" owl="1">
        <xpath expr="//OrderReceipt" position="after">
            <t t-if="env.pos.config.allow_kitchen_ticket_print">
                <KitchenReciept order="currentOrder" t-ref="order-receipt" />
            </t>
        </xpath>
    </t>


    

    <t t-name="OrderReceipt" t-inherit="point_of_sale.OrderReceipt" t-inherit-mode="extension" owl="1">

        <xpath expr="//div[hasclass('pos-receipt-contact')]" position="replace">
            <div class="pos-receipt-contact" style="width:100%;font-size:14px;margin-top: -10%;">
                <t t-if="receipt.company.contact_address">
                   <h3><div><t t-esc="receipt.company.contact_address" /></div></h3>
                </t>
                <t t-if="receipt.header_html">
                    <t t-raw="receipt.header_html" />
                </t>
                <t t-if="!receipt.header_html and receipt.header">
                    <div style="white-space:pre-line"><t t-esc="receipt.header" /></div>
                </t>
                <t t-if="env.pos.company.street"><span t-esc="env.pos.company.street"/>,</t>
                <t t-if="env.pos.company.street2"><span t-esc="env.pos.company.street2"/>,</t>
                <t t-if="env.pos.company.city"><span t-esc="env.pos.company.city"/>,</t>
                <t t-if="env.pos.company.state_id"><span t-esc="env.pos.company.state_id"/>,</t>
                <t t-if="env.pos.company.country_id"><span t-esc="env.pos.company.country_id"/></t>
            </div>
            <table style="margin-top:5pt;padding:5pt;font-size:9pt;">
                <colgroup>
                    <col width='24%'/>
                    <col width='1%'/>
                    <col width='49%'/>
                    <col width='1%'/>
                    <col width='25%'/>
                </colgroup>
                <tr>
                    <td style="vertical-align:left;padding-top:3pt;">VAT Reg No</td>
                    <td style="padding-left:3pt">:</td>
                    <td style="text-align:center;padding-right:5pt">
                        <t t-if="receipt.company.vat" t-esc="receipt.company.vat" style="text-align:center"/>
                    </td>
                    <td style="padding-right:3pt">:</td>
                    <td style="text-align:right;text-size:7pt;    font-family: droidarabickufiregular !important; ">الرقم الضريبي</td>
                </tr>
                <tr>
                    <td style="vertical-align:left;padding-top:3pt;">Shop name</td>
                    <td style="padding-left:3pt">:</td>
                    <td style="text-align:center;padding-right:5pt">
                        <t t-esc="receiptEnv.order.pos.config.name" style="text-align:center"/>
                    </td>
                    <td style="padding-right:3pt">:</td>
                    <td style="text-align:right;text-size:7pt; font-family:droidarabickufiregular !important;">اسم المحل</td>
                </tr>
            </table>

            <div style="border-bottom:1pt dashed black; text-align:center; font-weight:bold;padding-bottom:5pt;padding-top:5pt;font-family:droidarabickufiregular !important;" >INVOICE - الفاتورة</div>

            <div class="cashier" style="display:none;">
                <div>--------------------------------</div>
                <div>Served by <t t-esc="receipt.cashier" /></div>
            </div>
            <t t-if="receipt.header">
                <div style='text-align:center;padding-top:5pt'>
                    <t t-esc="receipt.header"/>
                </div>
                <br/>
            </t>
        </xpath>

        <xpath expr="//div[hasclass('orderlines')]" position="replace">
            <div class="orderlines" style="margin-top: -20%;">
                <table style="border-bottom:1pt dashed black;margin-top:-18pt;padding:5pt;font-size:9pt">
                    <colgroup>
                        <col width='24%'/>
                        <col width='1%'/>
                        <col width='49%'/>
                        <col width='1%'/>
                        <col width='25%'/>
                    </colgroup>
                    <tr>
                        <td >
                            Invoice No
                        </td>
                        <td style="padding-left:3pt">:</td>
                        <td style="text-align:center;padding-right:5pt">
                            <t t-esc="receipt.name"/>
                        </td>
                        <td style="padding-right:3pt">:</td>
                        <td style="text-align:right;text-size:7pt; font-family:droidarabickufiregular !important;">رقم الفاتورة</td>
                    </tr>

                    <tr>
                        <td style="padding-top:3pt;padding-bottom:3pt">Date</td>
                        <td style="padding-top:3pt;padding-bottom:3pt;padding-left:3pt">:</td>
                        <td style="text-align:center;padding-top:5pt;padding-bottom:3pt;padding-right:3pt">
                            <t t-esc="receipt.date.localestring"/>
                        </td>
                        <td style="padding-top:3pt;padding-bottom:3pt">:</td>
                        <td style="text-align:right;text-size:7pt;padding-top:3pt;padding-bottom:3pt;padding-right:3pt; font-family:droidarabickufiregular !important;">التاريخ</td>
                    </tr>

                    <tr>
                        <td style="padding-top:3pt;padding-bottom:3pt">Cashier</td>
                        <td style="padding-top:3pt;padding-bottom:3pt;padding-left:3pt">:</td>
                        <td style="text-align:center;padding-right:5pt;padding-top:3pt;padding-bottom:3pt">
                            <t t-esc="env.pos.get_cashier().name"/>
                        </td>
                        <td style="padding-top:3pt;padding-bottom:3pt;padding-right:3pt">:</td>
                        <td style="text-align:right;text-size:7pt;padding-top:3pt;padding-bottom:3pt;font-family:droidarabickufiregular !important;">البائع</td>
                    </tr>

                    <tr t-if='receipt.client'>
                        <!-- <t t-if='receipt.client'> -->
                        <td style="padding-top:3pt;padding-bottom:3pt">Customer</td>
                        <td style="padding-top:3pt;padding-bottom:3pt;padding-left:3pt">:</td>
                        <td style="text-align:center;padding-right:5pt;padding-top:3pt;padding-bottom:3pt">
                            <t t-esc="env.pos.get_client().name"/>
                            <!-- <t t-esc="env.pos.get_client().name"/> -->
                        </td>
                        <td style="padding-top:3pt;padding-bottom:3pt;padding-right:3pt">:</td>
                        <td style="text-align:right;text-size:7pt;padding-top:3pt;padding-bottom:3pt; font-family:droidarabickufiregular !important;">العميل</td>
                    </tr>

                    <tr t-if='receipt.client'>
                        <td style="padding-top:3pt;padding-bottom:3pt">Mobile</td>
                        <td style="padding-top:3pt;padding-bottom:3pt;padding-left:3pt">:</td>
                        <td style="text-align:center;padding-right:5pt;padding-top:3pt;padding-bottom:3pt">
                            <t t-esc="receipt.client.phone" />
                        </td>
                        <td style="padding-top:3pt;padding-bottom:3pt;padding-right:3pt">:</td>
                        <td style="text-align:right;text-size:7pt;padding-top:3pt;padding-bottom:3pt;font-family:droidarabickufiregular !important;">الهاتف</td>
                    </tr>
                    <tr t-if='receipt.client'>
                        <td style="padding-top:3pt;padding-bottom:3pt">Street</td>
                        <td style="padding-top:3pt;padding-bottom:3pt;padding-left:3pt">:</td>
                        <td style="text-align:center;padding-right:5pt;padding-top:3pt;padding-bottom:3pt">
                           <t t-esc="receipt.client.street"/>
                        </td>
                        <td style="padding-top:3pt;padding-bottom:3pt;padding-right:3pt">:</td>
                        <td style="text-align:right;text-size:7pt;padding-top:3pt;padding-bottom:3pt;font-family:droidarabickufiregular !important;">الشارع</td>
                    </tr>
                </table>

                <table style="margin-top:5pt;padding:5pt;border-bottom:1pt solid black;font-size:9pt;width:100%;"
                       class='receipt-orderlines'>
                     <colgroup>
                        <col width='22%'/>
                        <col width='12%'/>
                        <col width='21%'/>
                        <col width='45%'/>
                    </colgroup>
                    <tr>
                         <th style="border-bottom:1pt dashed black;text-align:left;margin-bottom:5pt;padding-bottom:3pt;    font-family: droidarabickufiregular !important;">اسم الصنف<br/>AMOUNT
                        </th>

                        <th style="border-bottom:1pt dashed black;text-align:center;margin-bottom:5pt;padding-bottom:3pt;    font-family: droidarabickufiregular !important;">الكمية<br/>Qty.
                        </th>
                        <th style="border-bottom:1pt dashed black;text-align:center;margin-bottom:5pt;padding-bottom:3pt;    font-family: droidarabickufiregular !important;">المبلغ<br/>Price
                        </th>
                         <th style="border-bottom:1pt dashed black;text-align:right;margin-bottom:5pt;padding-bottom:3pt;    font-family: droidarabickufiregular !important;">اسم الصنف<br/>Item Name
                        </th>
                    </tr>
                    <tr t-foreach="orderlines" t-as="orderline" style="margin-top:5pt">
                        <td style="padding-bottom:3pt;padding-top:2pt;vertical-align:top">
                            <t t-esc="env.pos.format_currency(orderline.get_display_price())"/>
                        </td>
                        <td style="padding-bottom:3pt;padding-top:2pt;vertical-align:top" class="pos-center-align">
                            <t t-esc="orderline.get_quantity_str_with_unit()"/>
                        </td>
                        <td style="padding-bottom:3pt;padding-top:2pt;vertical-align:top" class="pos-center-align">
                            <t t-esc="env.pos.format_currency(orderline.get_lst_price())"/>
                        </td>


                        <td style="text-align:right;padding-bottom:3pt;padding-top:2pt;vertical-align:top">
                            <t t-esc="orderline.get_product().display_name"/>
                            <t t-if="orderline.get_product().name_arabic">
                                <br/>
                                <t t-esc="orderline.get_product().name_arabic"/>
                            </t>
                            <t t-if="orderline.get_discount() > 0">
                                <div class="pos-disc-font">
                                    With a<t t-esc="orderline.get_discount()"/>% discount
                                </div>
                            </t>
                        </td>
                    </tr>
                </table>                

                <table style="border-bottom:1pt dashed black;font-size:9pt;width: 100%;" class='receipt-total'>
                    <colgroup>
                        <col width='34%'/>
                        <col width='1%'/>
                        <col width='30%'/>
                        <col width='1%'/>
                        <col width='34%'/>
                    </colgroup>
                    <tr>
                        <td style="padding-top:3pt;padding-bottom:3pt">Total Before Discount</td>
                        <td style="padding-top:3pt;padding-bottom:3pt">:</td>
                        <td style="text-align:center;padding-bottom:3pt;padding-top:3pt;padding-right:3pt">
                           <t t-esc="env.pos.format_currency(receiptEnv.order.get_total_without_tax() + receiptEnv.order.get_total_discount())"/>
                        </td>
                        <td style="padding-bottom:3pt;padding-top:3pt">:</td>
                        <td style="text-align:right;text-size:7pt;padding-top:3pt;padding-bottom:3pt;font-family:droidarabickufiregular !important;">الاجمالي قبل الخصم</td>
                    </tr>
                     <tr>
                        <td style="padding-top:3pt;padding-bottom:3pt">Total Discount Value</td>
                        <td style="padding-bottom:3pt;padding-top:3pt">:</td>
                        <td style="text-align:center;padding-bottom:3pt;padding-top:3pt;padding-right:6pt">
                            <t t-esc="env.pos.format_currency(receiptEnv.order.get_total_discount())"/>
                        </td>
                        <td style="padding-bottom:3pt;padding-top:3pt">:</td>
                        <td style="text-align:right;text-size:7pt;padding-top:3pt;padding-bottom:3pt;font-family:droidarabickufiregular !important;">اجمالي الخصم</td>
                    </tr>
                    <tr>
                        <td style="padding-top:3pt;padding-bottom:3pt">Total After Discount</td>
                        <td style="padding-bottom:3pt;padding-top:3pt">:</td>
                        <td style="text-align:center;padding-bottom:3pt;padding-top:3pt;padding-right:6pt">
                            <t t-esc="env.pos.format_currency(receiptEnv.order.get_total_without_tax())"/>
                        </td>
                        <td style="padding-bottom:3pt;padding-top:3pt">:</td>
                        <td style="text-align:right;text-size:7pt;padding-top:3pt;padding-bottom:3pt; font-family:droidarabickufiregular !important;">الاجمالي بعد الخصم</td>
                    </tr>

                    <t t-foreach="receipt.tax_details" t-as="taxdetail">
                        <tr>
                            <td style="padding-top:3pt;padding-bottom:3pt">
                                <t t-esc="taxdetail.name"/>
                            </td>
                            <td style="padding-bottom:3pt;padding-top:3pt">:</td>
                            <td style="text-align:center;padding-bottom:3pt;padding-top:3pt;padding-right:6pt">
                                <t t-esc="env.pos.format_currency(taxdetail.amount)"/>
                            </td>
                            <td style="padding-bottom:3pt;padding-top:3pt">:</td>
                            <td style="text-align:right;text-size:7pt;padding-top:3pt;padding-bottom:3pt; font-family:droidarabickufiregular !important;">الضرريبة</td>
                        </tr>
                    </t>
                   
                    <tr style="border-bottom:1pt dashed black">
                        <td style="padding-bottom:5pt;">NET AMOUNT</td>
                        <td style="padding-bottom:5pt">:</td>
                        <td style="font-weight:bold;text-align:center;padding-bottom:5pt;padding-right:6pt">
                            <t t-esc="env.pos.format_currency(receipt.total_with_tax)"/>
                        </td>
                        <td style="padding-bottom:5pt">:</td>
                        <td style="text-align:right;padding-bottom:5pt;    font-family: droidarabickufiregular !important;">الصافي</td>
                    </tr>

                    <t t-foreach="paymentlines" t-as="line">
                        <tr>
                            <td style="vertical-align:bottom">
                                <t t-esc="line.name"/>
                            </td>
                            <td style="vertical-align:bottom">:</td>
                            <td style="vertical-align:bottom;padding-right:6pt" class="pos-center-align">
                                <t t-esc="env.pos.format_currency(line.get_amount())"/>
                            </td>
                            <td style="vertical-align:bottom">:</td>
                            <td style="text-align:right;vertical-align:bottom;    font-family: droidarabickufiregular !important;">استلم</td>
                        </tr>
                    </t>
                     <tr>
                        <td style="padding-bottom:5pt">Change</td>
                        <td style="padding-bottom:5pt">:</td>
                        <td style="padding-bottom:5pt;padding-right:6pt" class="pos-center-align">
                            <t t-esc="env.pos.format_currency(receipt.change)"/>
                        </td>
                        <td style="padding-bottom:5pt">:</td>
                        <td style="padding-bottom:5pt;text-align:right;    font-family: droidarabickufiregular !important;">الباقي</td>
                    </tr>
                </table>
            </div>
        </xpath>

        <xpath expr="//t[@t-if='!isTaxIncluded']" position="replace">
        </xpath>

        <xpath expr="//t[@t-if='isTaxIncluded']" position="replace">
        </xpath>
         <xpath expr="//t[@t-if='receipt.total_discount']" position="replace">
        </xpath>

        <xpath expr="//div[hasclass('receipt-change')]" position="replace">
            
        </xpath>

        <xpath expr="//div[hasclass('receipt-change')]" position="replace">
            <div class="receipt-change"></div>
        </xpath>

        <xpath expr="//br[4]" position="replace">
        </xpath>
        <xpath expr="//br[5]" position="replace">
        </xpath>
        <xpath expr="//br[6]" position="replace">
        </xpath>

        <xpath expr="//div[hasclass('pos-receipt-right-align')]" position="replace">
        </xpath> 

        <xpath expr="//div[hasclass('pos-receipt-amount')]" position="replace">
        </xpath>           

        <xpath expr="//t[@t-foreach='receipt.paymentlines']" position="replace">

        </xpath>

        <xpath expr="//div[hasclass('pos-receipt-order-data')]/div/t[@t-esc='receipt.name']" position="replace">
        </xpath>

        <xpath expr="//div[hasclass('pos-receipt-order-data')]" position="replace">
            <br/>
            <div class="pos-receipt-order-data">
                <t t-esc="qr_code"/>
                <div class="receipt_qr_code" style="margin-top: -15%;"></div>
            </div>
        </xpath>

        <xpath expr="//img[@id='qrcode']" position="replace">
        </xpath>

        <xpath expr="//span[@id='title_english']" position="replace">
        </xpath>

        <xpath expr="//span[@id='title_arabic']" position="replace">
        </xpath>

        <xpath expr="//div[hasclass('pos-receipt-amount-arabic')]" position="replace">
            
        </xpath>

        <xpath expr="//div[hasclass('pos-receipt-amount-arabic')][2]" position="replace">
            
        </xpath>

    </t>
</templates>
